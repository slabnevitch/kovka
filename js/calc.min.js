(function(){var b=JQ_NEW;var b=JQ_NEW,k=b("#modal-calc-zabor .modal-body"),h=false,d={},a;d._csrf=calc_csrf;function e(){d={};d._csrf=calc_csrf;$this=b(this);a=$this.data("idCalc");d.id=a;d.table_type=$this.data("typeCalc");d.standartProduct=$this.data("idRazmer")||0;g();b.ajax({url:"/ajax/calc.html",type:"post",data:d,success:function(l){b("#modal-calc-zabor").modal("show");b("#modal-calc-zabor .modal-body-calc").html(l);b(".standartProduct").on("change",f);c();console.log("Response Ok")},error:function(l){console.log(l);console.log("err send data")}})}function j(){var l=k.find("form"),m=b(this);g();d=l.serialize();d.id=m.data("idCalc");d.table_type=m.data("typeCalc");b.ajax({url:"/ajax/calc.html",type:"post",data:d,success:function(n){b("#modal-calc-zabor").modal("show");b("#modal-calc-zabor .modal-body-calc").html(n);b(".standartProduct").on("change",f);c();console.log("Respose Ok")},error:function(n){console.log(n);console.log("err send data")}})}function c(){b(".pockraska").on("change",function(){if(b(this).is(":checked")){b(".pockraska_xamertai").prop("checked",false)}else{b(".pockraska_xamertai").prop("checked",true)}});b(".pockraska_xamertai").on("change",function(){if(b(this).is(":checked")){b(".pockraska").prop("checked",false)}else{b(".pockraska").prop("checked",true)}})}function f(l){var m=b(this);;if(m.val()==0){b(this).parent().parent().find(".castom-product").show("slow")}else{b(this).parent().parent().find(".castom-product").hide("slow")}}function g(){k.find("input:text").each(function(l,m){m.value=parseInt(m.value)})}b(".calc-zabor-js").on("click",e);b(".calc-zabor-js-razmer").on("click",e);b("#calc-do-zapros").on("click",j);function i(){var l=k.find("form"),m=b(this);g();d=l.serialize();g();b.ajax({url:"/ajax/basket.html",type:"post",data:d,success:function(o){var n=k.find(".calc-do");n.hide();k.find(".modal-body-calc").html('<div style="font-size: xx-large; color: #0f0f0f; height: 200px; width: 500px; text-align: center;line-height: 120px; padding-top: 50px">Данные добавлены в корзину</div>');window.setTimeout(function(){b("#modal-calc-zabor").modal("hide");n.show()},2100)},error:function(n){console.log("err send data")}})}b("#calc-add-basket").on("click",i)})();